@page "/"
@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager NavigationManager

<PageTitle>Healthcare Portal</PageTitle>

<AuthorizeView>
    <Authorized>
        <!-- User is logged in, redirect to dashboard -->
        @{
            NavigationManager.NavigateTo("/dashboard");
        }
    </Authorized>
    <NotAuthorized>
        <!-- User not logged in, show welcome page -->
        <div class="container-fluid p-0">
            <div class="row min-vh-100">
                <div class="col-md-6 d-flex align-items-center justify-content-center bg-light">
                    <div class="text-center">
                        <h1 class="display-4 text-primary mb-4">
                            <i class="fas fa-hospital-alt me-3"></i>
                            Healthcare Portal
                        </h1>
                        <p class="lead">Welcome to the Healthcare Insurance System</p>
                        <p class="text-muted">Please log in to access your account</p>
                        <a href="/login" class="btn btn-primary btn-lg">
                            <i class="fas fa-sign-in-alt me-2"></i>
                            Login
                        </a>
                    </div>
                </div>
                <div class="col-md-6 bg-primary d-flex align-items-center justify-content-center">
                    <div class="text-white text-center">
                        <h2>Demo Credentials</h2>
                        <div class="mt-4">
                            <div class="card bg-transparent border-light mb-3">
                                <div class="card-body">
                                    <strong>Patient Portal</strong><br>
                                    <small>john.patient@example.com / password</small>
                                </div>
                            </div>
                            <div class="card bg-transparent border-light mb-3">
                                <div class="card-body">
                                    <strong>Admin Dashboard</strong><br>
                                    <small>admin@example.com / password</small>
                                </div>
                            </div>
                            <div class="card bg-transparent border-light">
                                <div class="card-body">
                                    <strong>Claims Adjuster</strong><br>
                                    <small>adjuster@example.com / password</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </NotAuthorized>
</AuthorizeView>